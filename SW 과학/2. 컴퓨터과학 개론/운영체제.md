# 개요
📌 운영체제를 배우는 목적
-   운영체제의 역할 :  프로세스, 메모리, 입출력장치, 파일 관리 등
-   운영체제 분야 : 분산운영체제, 운영체제 보안, 임베디드 운영체제(특수 목적으로 설계된 운영체제) 등 
- 오퍼레이팅 시스템(Operating System, OS)
- 사용자가 컴퓨터를 쉽게 다룰 수 있게 해주는 인터페이스. 시스템소프트웨어와 응용소프트웨어 간 조정을 해주는 역할을 맡는다.


- 동적 연결 라이브러리 dynamic-link library, DLL
	- GDL
		- 디바이스 컨텍스트 DC (Device Context0
			- 출력에 필요한 모든 정보를 가지는 데이터 구조체이며, GDI 모듈에 의해 관리된다.
			- 핸들
			 - DC(Device Contest) : 데이터 구조체, 윈도우에서는 DC를 통해 출력을 해결함. 윈도우 DC, 프린터 DC, 화면 DC가 제각각 필요
				- 문자열 출력은 TextOut 함수(dos의 printf함수)
				- PAINTSTRUCT : 윈도우 클라이언트 영역에 무언가를 그리려고 할 때 필요한 정보를 담고 있는 구조체
					1. 운영체제에 DC를 요청
					2. 운영체제가 제공한 DC를 [[파라미터|매개변수]]로 하는 API를 호출하여 출력
					3. DC 사용이 끝났음을 운영체제에 알리고 반납
	- 커널
	- User
- 레지스트리 편집기 Registry editor
- 메시지 핸들러 함수 : 메시지를 처리하는 함수 메시지 처리기라고도 한다.



# 운영체제의 구성
## 1. 파일 관리자
## 2. 프로세스 관리자
## 3. 장치 관리자
## 4. 메모리 관리자

# 운영체제의 종류
## 1. 레드헷
## 2. 윈도우즈
# 동적 연결 라이브러리
- 윈도우에서 DLL 파일은 보통 확장자가 `.dll`로 되어 있고 필요한 경우에만 적재되어 실행됨
    - 메모리와 하드디스크 절약
    - 프로그램 실행속도⬆️
    - 프로그램의 모듈화
        - 운영체제의 확장이 용이하도록 새로운 갱신이 필요할 시 직접 수정할 필요없이 DLL 패키지만 수정, 개선시키면 됨
- 확장 DLL(MFC 같은거)의 경우 클래스를 가지고 있기도 함

### 0.1. 정적링크라이브러리(Static Link Library)
### 0.2. 동적링크라이브러리의 종류(일반DLL \ 확장DLL)
|      | 일반 DLL                                               | 확장 DLL                                                                            |
| ---- | ------------------------------------------------------ | ----------------------------------------------------------------------------------- |
| 설명 | C++,파스칼,비베등 다른 환경에서 사용할 수 있는 범용DLL | 클래스나 오버로딩된 함수도 모두 라이브러리 형태로 외부의 프로그램에 제공할 수 있다. |
|단점      |     다른 프로그램에서 사용될 수 있도록 라이브러리 형태로 만들 수 없음                                                   |            MFC에서만 사용                                                                         |

### 0.3. **윈도우의 세가지 동적 라이브러리**
1.  Kernel : 메모리 관리 및 프로그램 실행
2.  User : 인터페이스와 윈도우를 관리
3.  GDI : 화면처리와 그래픽 담당
    - DC(Device Context) - 출력을 위한 모든 정보가 저장되어 있는 데이터 구조체
        - 화면 출력을 위해 좌표, 선의 굵기, 색, 모양 등이 DC에 디폴트값이 저장되어 있다.
        - 현재 윈도우 값도 가지고 있음
        - 클리핀 영역을 자동으로 계산, 뒷 영역의 윈도우 그림이 앞 윈도우를 침범하지 못하도록 해줌

# 요약
### 0.1. 프로세스

-   병행 프로세스
    -   **프로세스 동기화**
        -   임계영역 : 2개 이상의 프로세스가 동시에 액세스하면 안 되는 공유 자
        -   상호배제 : 2개 이상의 프로세스가 동시에 임계영역에 진입하지 못하게 하는 것
        -   세마포어 : 상호 배제나 동기화 문제 등을 해결하기 위한 정수형 공용 변수 (P감소 V증가)
    -   **프로세스간 통신**
        -   공유기억장치 기법 : 공유변수, 프로그래머
        -   메세지 시스템 기법 : send/receive, 운영체제
            -   직접통신
            -   간접통신 : 우편함

### 0.2. 스케줄링 알고리즘

1.  선점 : SRT \ RR \ 다단계
2.  비선점 : FCF3 \ SJF \ HRN

### 0.3. 교착상태

2개 이상의 작업이 서로 상대방의 작업이 끝나기만을 기다 리고 있기 때문에 결과적으로 아무것도 완료되지 못하는 상태

-   교착상태의 필요조건
-   상호배제
-   점유 대기
-   비선점
-   환형 대기

### 0.4. 메모리관리

-   단일 프로그래밍 환경 : 메모리 낭비
-   다중 프로그래밍 환경 : 메모리 분할
-   고정분할 : 고정된 크기로 분할, 내부단편화
-   동적분할 : 외부단편화
-   외부단편화 해결 : 통합(인접공백), 집약(모든공백)

### 0.5. 가상 메모리

-   가상주소 ≠ 실주소
-   가상주소를 실주소로 변환 : 사상 mapping
-   블록단위 주소변환: 블록 단위로 분류하여 각 블록이 메모리의 어디에 위치하는지를 관리
-   블록 구성 방식에 따른 분류
-   페이징 기법 : 블록의 크기가 동일
-   가상메모리를 고정된 크기 페이지로 나눔
-   메모리도 페이지와 동일크기 페이지 프레임으로 나눔
-   논리적 의미와 무관
-   페이지 사상표 : 가상주소를 실주소로 동적 변환 위해 필요
-   직접사상 : 페이지 사상표를 직접 이용
-   연관사상 : 연관기억장치에 저장한 연관 사상표를 이용
-   연관사상표에는 가장 최근 참조된 페이지만 보관
-   연관사상표에서 빠르게 먼저 찾고 없으면 페이지 사상표에서 찾아
-   세그먼테이션 기법
-   논리적 의미에 맞는 크기의 세그먼트 단위
-   하나의 세그먼트는 연속된 기억공간에 할당
-   가상주소 v=(s세그먼트 시작위치, d만큼 떨어진곳)
-   세그먼트 사상표
-   존재비트, 보조기억장치주소, 세그먼트길이, 세그먼트 시작주소
-   페이징 기법 > 페이지 호출 기법
-   요구 페이지 호출 기법
-   페이지 부재 발생(성능저하)
-   예상 페이지 호출 기법
-   메모리 공간 낭비
-   프로세스 시작 시점에 적용하면 성능 개선됨
-   페이징 기법 > 페이지 교체 기법
-   실메모리의 모든 페이지 프레임이 사용중일 때 어느 페이지를 교체할지 결정
-   교체대상 선택
-   최적화 원칙(실현불가능)
-   시간, 공간의 오버헤드 적은 방법 선택
-   교체 제외 페이지 : 슈퍼바이저 코드영역, 보조 기억장치 드라이버 영역, 입출력장치를 위한 데이터 버퍼 영역 등
-   페이지 교체 알고리즘
-   FIFO : First In First Out
-   LRU : Least Recently Used
-   참조시간 가장 오래된것 교체
-   참조시간 이용, 리스트 이용
-   국부성(locality)에 기반
-   LFU : Least Frequently Used
-   참조 횟수 가장 적은것 교체
-   가장 최근 메모리에 올라온게 교체될 가능성 높아
-   NUR : Not Used Recently
-   LRU 비슷함, 실제로 자주쓰임
-   프로세스별 페이지 집합 관리
-   프로세스별 페이지 프레임에 적재된 페이지들의 집합
-   어떠한 시점을 기준으로 정해진 크기의 과거 시간 구간 동안 참조된 페이지의 집합
-   W(t 현재시간, w 윈도크기)
-   PFF 알고리즘 : Page Fault Frequency
-   페이지 부재 비율이 높으면 페이지 프레임을 더 배정하고, 낮으면 회수

### 0.6. 장치관리

-   전용장치 : 한 번에 하나의 프로세스 할당
-   테이프 드라이브, 프린트
-   공용장치 : 여러 프로세스 동시 할당
-   직접접근 저장장치 (디스크)
-   가상장치 : 전용장치를 공용장치 처럼 보이게함

**6-1. 입출력 처리 유형**

-   프로그램 방법
-   인터럽트 : 다른장치의 작업을 잠시 중단시키고 자신의 상태를 알리는 기능
    1.  IO장치가 인터럽트 제어기에 신호 보냄
    2.  인터럽트 제어기는 CPU에 인터럽트 신호 보냄
    3.  CPU는 현재 실행 중이던 명령 마친 후 인터럽트에 응답
    4.  인터럽트 제어기는 이벤트 대상에 대한 정보를 CPU에게 보냄
    5.  CPU는 현재상태 보관하고 입출력처리 한 후 원래 상태로 복귀
-   DMA 방법 : Direct Memory Access
-   CPU 통하지 않고 직접 메모리 접근
-   입출력 양이 많아도 한번의 인터럽트만 발생
    1.  CPU는 입출력에 필요한 정보 DMA제어기에 넘김
    2.  DMA제러기는 소스에서 목적지로 제이터를 보내도록 장치제어기에 요청
    3.  원하는 양의 입출력이 끝나면 DMA 제어기는 인터럽트 제어기에 신호 보내 인터럽트 발생시킴
    4.  CPU에게 입출력 작업 완료 알림
-   CPU와 DMA 제어기가 동시에 메모리 액세스 시도하면 충돌 발생

**6-2. 입출력 관리**

-   버퍼링 : CPU의 데이터 처리 속도와 데이터 전송 속도의 차이로 인한 문제를 메모리의 일부를 일시적 데이터 저장 장소로 사용하는 버퍼를 이용하여 해결하는 방법
-   스풀링 : 입출력 프로세스와 저속 입출력 장치 사이의 데이터 전송 을 자기 디스크와 같은 고속 장치를 통하도록 하여 입출력 작업이 빨리 끝나 도록 한다

### 0.7. 저장장치 및 파일

7-1. 저장장치

-   자기 디스크 : 자성 디스크 표면
-   플래터, 헤드, 암, 트랙, 섹터
-   광 디스크 : 표면에 레이저 쏘아 반사 빛 차이 이용
-   디스크 스케줄링 알고리즘

최소화에 가장 중점을 두는 요소는? - 탐구시간

-   SSTF : Shortest Seek Time First
-   가장 안쪽과 바깥쪽 왕복. 진행방향 가장 가까운것 먼저
-   C-SCAN : Circular SCAN
-   SLTF : Shortest Latency Time First

7-2. 파일구조와 접근방식

-   파일 구조 : 파일을 구성하는 레코드들이 보조기억장치에 매치되는 방식
-   순차적으로 기록, 판독
-   인덱스된 순차파일
-   레코드가 키를 기준으로 한 논리적 순서로 저장되어 있는 파일
-   순차접근(키순서), 직접접근(인덱스 검색)
-   논리적인 키와 물리적 주소의 매핑은 프로그래머가 정의

### 0.8. 분산 운영체제

-   분산시스템 네트워크
-   트리구조 : 비교적 저렴, 가용성 낮음
-   스타형 : 저렴, 가용성 높음(중앙사이트 제외)
-   링형 : 비쌈, 가용성 비교적 높음
-   버스형 : 저렴, 가용성 높음(버스 제외)

### 0.9. 운영체제 보안

-   운영체제 보안의 기본 목표
-   비밀키 = 대칭키 (암호화key = 복호화key)
